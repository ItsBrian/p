<!DOCTYPE html>
<html>
  <head>
  <title>Softstarter</title>
	<style>
		canvas {
			border:1px solid green;
		}

		#newBody {
			text-align: left;
			width: 500px;
		}

		input {
			width: 300px;
		}
	</style>
  </head>
<body>
<center>
<canvas id="main" height="300px" width="500px"></canvas>
<table>
	<tr>
		<!--<td>Amplitude: </td><td><input type="range" id="amplitude" oninput="javascript:tekenSinus()" max="90"></td>-->
	</tr>
	<tr>
		<td>Frequency: </td><td><input type="range" id="frequency" oninput="javascript:tekenSinus()" max="10" min="0" step="0.01"></td>
	</tr>
	<tr>
		<td>Alpha: </td><td><input type="range" id="alpha" oninput="javascript:tekenSinus()" max="70"></td>
	</tr>
</table>
</div>
</center>
<script src="https://raw.githubusercontent.com/ItsBrian/ItsBrian.github.io/master/teekn.js"></script>
<script>
	setCanvas("#main");

	offsetCanvas(0,150);

	function tekenSinus(){
		clearCanvas();
		amplitude = 70;
		frequency = document.querySelector("#frequency").value;
		alpha = document.querySelector("#alpha").value;

		prevSin = 0;
		for (i=0;i<500;i+=0.5){

			//console.log(Math.sin(i*frequency*0.01)*amplitude)
			sin = Math.sin(i*frequency*0.01)*amplitude;
			dot(i,sin,0.1);
			if (prevSin > (sin)){
				status = "stijgen";
			} else {
				status = "dalen";
			}
			prevSin = (sin);

			if ((status == "dalen" && Math.abs(sin) < alpha && sin > 0) || (status == "stijgen" && Math.abs(sin) < alpha && sin < 0)){
				dot(i,0,3);
			} else {
				dot(i,sin,3);
			}
		}
	}
	tekenSinus();
</script>

</body>
</html>
